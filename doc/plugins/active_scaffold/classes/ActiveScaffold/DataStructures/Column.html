<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: ActiveScaffold::DataStructures::Column</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">ActiveScaffold::DataStructures::Column</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/vendor/plugins/active_scaffold/lib/data_structures/column_rb.html">
                vendor/plugins/active_scaffold/lib/data_structures/column.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="../../Object.html">
                Object
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000301">calculation?</a>&nbsp;&nbsp;
      <a href="#M000293">description</a>&nbsp;&nbsp;
      <a href="#M000313">field</a>&nbsp;&nbsp;
      <a href="#M000310">field_name</a>&nbsp;&nbsp;
      <a href="#M000302">includes=</a>&nbsp;&nbsp;
      <a href="#M000312">initialize_search_sql</a>&nbsp;&nbsp;
      <a href="#M000311">initialize_sort</a>&nbsp;&nbsp;
      <a href="#M000292">label</a>&nbsp;&nbsp;
      <a href="#M000306">plural_association?</a>&nbsp;&nbsp;
      <a href="#M000308">polymorphic_association?</a>&nbsp;&nbsp;
      <a href="#M000294">required?</a>&nbsp;&nbsp;
      <a href="#M000303">search_sql</a>&nbsp;&nbsp;
      <a href="#M000304">searchable?</a>&nbsp;&nbsp;
      <a href="#M000300">set_link</a>&nbsp;&nbsp;
      <a href="#M000305">singular_association?</a>&nbsp;&nbsp;
      <a href="#M000296">sort</a>&nbsp;&nbsp;
      <a href="#M000295">sort=</a>&nbsp;&nbsp;
      <a href="#M000298">sort_by</a>&nbsp;&nbsp;
      <a href="#M000297">sortable?</a>&nbsp;&nbsp;
      <a href="#M000307">through_association?</a>&nbsp;&nbsp;
      <a href="#M000299">ui_type</a>&nbsp;&nbsp;
      <a href="#M000309">virtual?</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name"><a href="../Configurable.html">ActiveScaffold::Configurable</a></span>
      </div>
    </div>

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">active_record_class</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">association</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
the association from the <a href="../../ActiveRecord.html">ActiveRecord</a>
class

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">calculate</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
define a calculation for the column. anything that
ActiveRecord::Calculations::ClassMethods#calculate accepts will do.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">collapsed</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
Whether this column set is collapsed by default in contexts where
collapsing is supported

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">column</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
the ConnectionAdapter::*<a href="Column.html">Column</a> object from the <a
href="../../ActiveRecord.html">ActiveRecord</a> class

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">css_class</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
this will be /joined/ to the :name for the td&#8217;s class attribute.
useful if you want to style columns on different ActiveScaffolds the same
way, but the columns have different names.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">description</td>
          <td class="context-item-value">&nbsp;[W]&nbsp;</td>
          <td class="context-item-desc">
a textual description of the column and its contents. this will be
displayed with any associated form input widget, so you may want to
consider adding a content example.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">includes</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
a collection of associations to pre-load when finding the records on a page

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">label</td>
          <td class="context-item-value">&nbsp;[W]&nbsp;</td>
          <td class="context-item-desc">
the display-name of the column. this will be used, for instance, as the
column title in the table and as the field name in the form.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">link</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
associate an action_link with this column

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">name</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
this is the name of the getter on the <a
href="../../ActiveRecord.html">ActiveRecord</a> model. it is the only
absolutely required attribute &#8230; all others will be inferred from this
name.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">required</td>
          <td class="context-item-value">&nbsp;[W]&nbsp;</td>
          <td class="context-item-desc">
whether the field is required or not. used on the form for visually
indicating the fact to the user. TODO: move into predicate

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">search_sql</td>
          <td class="context-item-value">&nbsp;[W]&nbsp;</td>
          <td class="context-item-desc">
describes how to search on a column

<pre>
  search = true           default, uses intelligent search sql
  search = &quot;CONCAT(a, b)&quot; define your own sql for searching. this should be the &quot;left-side&quot; of a WHERE condition. the operator and value will be supplied by ActiveScaffold.
</pre>
</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">table</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
the table name from the <a href="../../ActiveRecord.html">ActiveRecord</a>
class

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ui_type</td>
          <td class="context-item-value">&nbsp;[W]&nbsp;</td>
          <td class="context-item-desc">
supported options:

<pre>
  * :select will display a simple &lt;select&gt; (or collection of checkboxes) on the form to (dis)associate records
  * :crud (default) will display a sub-form
</pre>
</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000301" class="method-detail">
        <a name="M000301"></a>

        <div class="method-heading">
          <a href="#M000301" class="method-signature">
          <span class="method-name">calculation?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
get whether to run a calculation on this column
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000301-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000301-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 89</span>
89:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">calculation?</span>
90:       <span class="ruby-operator">!</span>(<span class="ruby-ivar">@calculate</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@calculate</span>.<span class="ruby-identifier">nil?</span>)
91:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000293" class="method-detail">
        <a name="M000293"></a>

        <div class="method-heading">
          <a href="#M000293" class="method-signature">
          <span class="method-name">description</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000293-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000293-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 21</span>
21:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">description</span>
22:       <span class="ruby-identifier">as_</span>(<span class="ruby-ivar">@description</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@description</span>
23:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000310" class="method-detail">
        <a name="M000310"></a>

        <div class="method-heading">
          <a href="#M000310" class="method-signature">
          <span class="method-name">field_name</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
just the field (not table.field)
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000310-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000310-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 171</span>
171:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">field_name</span>
172:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">virtual?</span>
173:       <span class="ruby-identifier">column</span> <span class="ruby-value">? </span><span class="ruby-ivar">@active_record_class</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_column_name</span>(<span class="ruby-identifier">column</span>.<span class="ruby-identifier">name</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">association</span>.<span class="ruby-identifier">primary_key_name</span>
174:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000302" class="method-detail">
        <a name="M000302"></a>

        <div class="method-heading">
          <a href="#M000302" class="method-signature">
          <span class="method-name">includes=</span><span class="method-args">(value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000302-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000302-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 95</span>
95:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">includes=</span>(<span class="ruby-identifier">value</span>)
96:       <span class="ruby-ivar">@includes</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">:</span> [<span class="ruby-identifier">value</span>] <span class="ruby-comment cmt"># automatically convert to an array  </span>
97:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000292" class="method-detail">
        <a name="M000292"></a>

        <div class="method-heading">
          <a href="#M000292" class="method-signature">
          <span class="method-name">label</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000292-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000292-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 15</span>
15:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">label</span>
16:       <span class="ruby-identifier">as_</span>(<span class="ruby-ivar">@label</span>)
17:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000306" class="method-detail">
        <a name="M000306"></a>

        <div class="method-heading">
          <a href="#M000306" class="method-signature">
          <span class="method-name">plural_association?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000306-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000306-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 123</span>
123:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">plural_association?</span>
124:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">association</span> <span class="ruby-keyword kw">and</span> [<span class="ruby-identifier">:has_many</span>, <span class="ruby-identifier">:has_and_belongs_to_many</span>].<span class="ruby-identifier">include?</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">association</span>.<span class="ruby-identifier">macro</span>
125:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000308" class="method-detail">
        <a name="M000308"></a>

        <div class="method-heading">
          <a href="#M000308" class="method-signature">
          <span class="method-name">polymorphic_association?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000308-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000308-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 129</span>
129:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">polymorphic_association?</span>
130:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">association</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">association</span>.<span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span> <span class="ruby-identifier">:polymorphic</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">association</span>.<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:polymorphic</span>]
131:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000294" class="method-detail">
        <a name="M000294"></a>

        <div class="method-heading">
          <a href="#M000294" class="method-signature">
          <span class="method-name">required?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000294-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000294-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 31</span>
31:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">required?</span>
32:       <span class="ruby-ivar">@required</span>
33:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000303" class="method-detail">
        <a name="M000303"></a>

        <div class="method-heading">
          <a href="#M000303" class="method-signature">
          <span class="method-name">search_sql</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000303-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000303-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 103</span>
103:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">search_sql</span>
104:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">initialize_search_sql</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@search_sql</span> <span class="ruby-operator">===</span> <span class="ruby-keyword kw">true</span>
105:       <span class="ruby-ivar">@search_sql</span>
106:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000304" class="method-detail">
        <a name="M000304"></a>

        <div class="method-heading">
          <a href="#M000304" class="method-signature">
          <span class="method-name">searchable?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000304-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000304-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 107</span>
107:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">searchable?</span>
108:       <span class="ruby-identifier">search_sql</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">false</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">search_sql</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
109:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000300" class="method-detail">
        <a name="M000300"></a>

        <div class="method-heading">
          <a href="#M000300" class="method-signature">
          <span class="method-name">set_link</span><span class="method-args">(action, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000300-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000300-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 74</span>
74:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_link</span>(<span class="ruby-identifier">action</span>, <span class="ruby-identifier">options</span> = {})
75:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">action</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">ActiveScaffold</span><span class="ruby-operator">::</span><span class="ruby-constant">DataStructures</span><span class="ruby-operator">::</span><span class="ruby-constant">ActionLink</span>
76:         <span class="ruby-ivar">@link</span> = <span class="ruby-identifier">action</span>
77:       <span class="ruby-keyword kw">else</span>
78:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:label</span>] <span class="ruby-operator">||=</span> <span class="ruby-ivar">@label</span>
79:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:position</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">:after</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">:position</span>)
80:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:type</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">:record</span>
81:         <span class="ruby-ivar">@link</span> = <span class="ruby-constant">ActiveScaffold</span><span class="ruby-operator">::</span><span class="ruby-constant">DataStructures</span><span class="ruby-operator">::</span><span class="ruby-constant">ActionLink</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">action</span>, <span class="ruby-identifier">options</span>)
82:       <span class="ruby-keyword kw">end</span>
83:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000305" class="method-detail">
        <a name="M000305"></a>

        <div class="method-heading">
          <a href="#M000305" class="method-signature">
          <span class="method-name">singular_association?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000305-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000305-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 120</span>
120:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">singular_association?</span>
121:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">association</span> <span class="ruby-keyword kw">and</span> [<span class="ruby-identifier">:has_one</span>, <span class="ruby-identifier">:belongs_to</span>].<span class="ruby-identifier">include?</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">association</span>.<span class="ruby-identifier">macro</span>
122:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000296" class="method-detail">
        <a name="M000296"></a>

        <div class="method-heading">
          <a href="#M000296" class="method-signature">
          <span class="method-name">sort</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000296-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000296-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 49</span>
49:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sort</span>
50:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">initialize_sort</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@sort</span> <span class="ruby-operator">===</span> <span class="ruby-keyword kw">true</span>
51:       <span class="ruby-ivar">@sort</span>
52:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000295" class="method-detail">
        <a name="M000295"></a>

        <div class="method-heading">
          <a href="#M000295" class="method-signature">
          <span class="method-name">sort=</span><span class="method-args">(value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
sorting on a column can be configured four ways:
</p>
<pre>
  sort = true               default, uses intelligent sorting sql default
  sort = false              sometimes sorting doesn't make sense
  sort = {:sql =&gt; &quot;&quot;}       define your own sql for sorting. this should be result in a sortable value in SQL. ActiveScaffold will handle the ascending/descending.
  sort = {:method =&gt; &quot;&quot;}    define ruby-side code for sorting. this is SLOW with large recordsets!
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000295-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000295-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 40</span>
40:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sort=</span>(<span class="ruby-identifier">value</span>)
41:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Hash</span>
42:         <span class="ruby-identifier">value</span>.<span class="ruby-identifier">assert_valid_keys</span>(<span class="ruby-identifier">:sql</span>, <span class="ruby-identifier">:method</span>)
43:         <span class="ruby-ivar">@sort</span> = <span class="ruby-identifier">value</span>
44:       <span class="ruby-keyword kw">else</span>
45:         <span class="ruby-ivar">@sort</span> = <span class="ruby-identifier">value</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">false</span> <span class="ruby-comment cmt"># force true or false</span>
46:       <span class="ruby-keyword kw">end</span>
47:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000298" class="method-detail">
        <a name="M000298"></a>

        <div class="method-heading">
          <a href="#M000298" class="method-signature">
          <span class="method-name">sort_by</span><span class="method-args">(options)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
a configuration helper for the self.sort property. simply provides a method
syntax instead of setter syntax.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000298-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000298-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 59</span>
59:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sort_by</span>(<span class="ruby-identifier">options</span>)
60:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sort</span> = <span class="ruby-identifier">options</span>
61:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000297" class="method-detail">
        <a name="M000297"></a>

        <div class="method-heading">
          <a href="#M000297" class="method-signature">
          <span class="method-name">sortable?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000297-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000297-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 54</span>
54:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sortable?</span>
55:       <span class="ruby-identifier">sort</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">false</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">sort</span>.<span class="ruby-identifier">nil?</span>
56:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000307" class="method-detail">
        <a name="M000307"></a>

        <div class="method-heading">
          <a href="#M000307" class="method-signature">
          <span class="method-name">through_association?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000307-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000307-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 126</span>
126:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">through_association?</span>
127:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">association</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">association</span>.<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:through</span>]
128:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000299" class="method-detail">
        <a name="M000299"></a>

        <div class="method-heading">
          <a href="#M000299" class="method-signature">
          <span class="method-name">ui_type</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000299-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000299-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 67</span>
67:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ui_type</span>
68:       <span class="ruby-ivar">@ui_type</span> <span class="ruby-operator">||</span> (<span class="ruby-identifier">column</span>.<span class="ruby-identifier">type</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">column</span>)
69:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000309" class="method-detail">
        <a name="M000309"></a>

        <div class="method-heading">
          <a href="#M000309" class="method-signature">
          <span class="method-name">virtual?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
an interpreted property. the column is virtual if it isn&#8217;t from the
active record model or any associated models
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000309-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000309-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 134</span>
134:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">virtual?</span>
135:       <span class="ruby-identifier">column</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">association</span>.<span class="ruby-identifier">nil?</span>
136:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Protected Instance methods</h3>

      <div id="method-M000313" class="method-detail">
        <a name="M000313"></a>

        <div class="method-heading">
          <a href="#M000313" class="method-signature">
          <span class="method-name">field</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
the table.field name for this column, if applicable
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000313-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000313-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 210</span>
210:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">field</span>
211:       <span class="ruby-ivar">@field</span> <span class="ruby-operator">||=</span> [<span class="ruby-ivar">@table</span>, <span class="ruby-identifier">field_name</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">'.'</span>)
212:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000312" class="method-detail">
        <a name="M000312"></a>

        <div class="method-heading">
          <a href="#M000312" class="method-signature">
          <span class="method-name">initialize_search_sql</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000312-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000312-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 193</span>
193:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_search_sql</span>
194:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">virtual?</span>
195:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">search_sql</span> = <span class="ruby-keyword kw">nil</span>
196:       <span class="ruby-keyword kw">else</span>
197:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">association</span>.<span class="ruby-identifier">nil?</span>
198:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">search_sql</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">field</span>.<span class="ruby-identifier">to_s</span>
199:         <span class="ruby-keyword kw">else</span>
200:           <span class="ruby-comment cmt"># with associations we really don't know what to sort by without developer intervention. we could sort on the primary key ('id'), but that's hardly useful. previously ActiveScaffold would try and search using the same sql as from :sort, but we decided to just punt.</span>
201:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">search_sql</span> = <span class="ruby-keyword kw">nil</span>
202:         <span class="ruby-keyword kw">end</span>
203:       <span class="ruby-keyword kw">end</span>
204:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000311" class="method-detail">
        <a name="M000311"></a>

        <div class="method-heading">
          <a href="#M000311" class="method-signature">
          <span class="method-name">initialize_sort</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000311-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000311-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/plugins/active_scaffold/lib/data_structures/column.rb, line 178</span>
178:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_sort</span>
179:       <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">virtual?</span>
180:         <span class="ruby-comment cmt"># we don't automatically enable method sorting for virtual columns because it's slow, and we expect fewer complaints this way.</span>
181:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sort</span> = <span class="ruby-keyword kw">false</span>
182:       <span class="ruby-keyword kw">else</span>
183:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">singular_association?</span>
184:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sort</span> = {<span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{self.name}.to_s&quot;</span>}
185:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">plural_association?</span>
186:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sort</span> = {<span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{self.name}.join(',')&quot;</span>}
187:         <span class="ruby-keyword kw">else</span>
188:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sort</span> = {<span class="ruby-identifier">:sql</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">field</span>}
189:         <span class="ruby-keyword kw">end</span>
190:       <span class="ruby-keyword kw">end</span>
191:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>